"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[130],{2545:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var r=n(885),s=n(5671),i=n(3144),a=n(136),o=n(7277),c=n(2791),l=n(9613),u=n(184),d=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,u.jsx)(l.Z,{}):this.props.children}}]),n}(c.Component),p=d,h=n.p+"static/media/mjolnir.61f31e1809f12183a524.png",m=n(4482),f=n(2885),x=function(e){var t=e.data,n=t.name,r=t.description,s=t.thumbnail,i=t.homepage,a=t.wiki,o={objectFit:"cover"};return"https://assets.entrepreneur.com/content/3x2/2000/20160701113917-Marvel.jpeg"===s&&(o={objectFit:"contain"}),(0,u.jsxs)("div",{className:"randomchar__block",children:[(0,u.jsx)("img",{src:s,alt:"Random character",className:"randomchar__img",style:o}),(0,u.jsxs)("div",{className:"randomchar__info",children:[(0,u.jsx)("p",{className:"randomchar__name",children:n}),(0,u.jsx)("p",{className:"randomchar__descr",children:r||"There is no description about characters"}),(0,u.jsxs)("div",{className:"randomchar__btns",children:[(0,u.jsx)("a",{href:i,className:"button button__main",children:(0,u.jsx)("div",{className:"inner",children:"homepage"})}),(0,u.jsx)("a",{href:a,className:"button button__secondary",children:(0,u.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},v=function(e){var t=(0,c.useState)(null),n=(0,r.Z)(t,2),s=n[0],i=n[1],a=(0,m.Z)(),o=a.getCharactersById,l=a.clearError,d=a.setProcess,p=a.process;(0,c.useEffect)((function(){return E(),function(){}}),[]);var v=function(e){i((function(){return e}))},E=function(){l();var e=Math.floor(914*Math.random()+101e4);o(e).then(v).then((function(){return d("confirmed")}))};return(0,u.jsxs)("div",{className:"randomchar",children:[(0,f.Z)(p,x,s),(0,u.jsxs)("div",{className:"randomchar__static",children:[(0,u.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,u.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,u.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,u.jsx)("button",{onClick:E,className:"button button__main",children:(0,u.jsx)("div",{className:"inner",children:"try it"})}),(0,u.jsx)("img",{src:h,alt:"mjolnir",className:"randomchar__decoration"})]})]})},E=n(2982),b=n(8602);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,N(e,t)}function C(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var y=n(4164),k=!1,S=c.createContext(null),O=function(e){return e.scrollTop},Z="unmounted",R="exited",T="entering",M="entered",w="exiting",D=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var s,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(s=R,r.appearStatus=T):s=M:s=t.unmountOnExit||t.mountOnEnter?Z:R,r.state={status:s},r.nextCallback=null,r}_(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Z?{status:R}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==T&&n!==M&&(t=T):n!==T&&n!==M||(t=w)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===T){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:y.findDOMNode(this);n&&O(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===R&&this.setState({status:Z})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[y.findDOMNode(this),r],i=s[0],a=s[1],o=this.getTimeouts(),c=r?o.appear:o.enter;!e&&!n||k?this.safeSetState({status:M},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:T},(function(){t.props.onEntering(i,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:M},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:y.findDOMNode(this);t&&!k?(this.props.onExit(r),this.safeSetState({status:w},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:R},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:R},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:y.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],a=s[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Z)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,g(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.createElement(S.Provider,{value:null},"function"===typeof n?n(e,r):c.cloneElement(c.Children.only(n),r))},t}(c.Component);function P(){}D.contextType=S,D.propTypes={},D.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:P,onEntering:P,onEntered:P,onExit:P,onExiting:P,onExited:P},D.UNMOUNTED=Z,D.EXITED=R,D.ENTERING=T,D.ENTERED=M,D.EXITING=w;var L=D,A=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=C(n.className,r):n.setAttribute("class",C(n.className&&n.className.baseVal||"",r)));var n,r}))},F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),s=r[0],i=r[1];t.removeClasses(s,"exit"),t.addClass(s,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),s=r[0],i=r[1]?"appear":"enter";t.addClass(s,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),s=r[0],i=r[1]?"appear":"enter";t.removeClasses(s,i),t.addClass(s,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,s=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:s,activeClassName:r?s+"-active":n[e+"Active"],doneClassName:r?s+"-done":n[e+"Done"]}},t}_(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(r+=" "+s),"active"===n&&e&&O(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,s=n.active,i=n.done;this.appliedClasses[t]={},r&&A(e,r),s&&A(e,s),i&&A(e,i)},n.render=function(){var e=this.props,t=(e.classNames,g(e,["classNames"]));return c.createElement(L,j({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);F.defaultProps={classNames:""},F.propTypes={};var I=F;function V(e,t){var n=Object.create(null);return e&&c.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,c.isValidElement)(e)?t(e):e}(e)})),n}function U(e,t,n){return null!=n[t]?n[t]:e.props[t]}function W(e,t,n){var r=V(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,s=Object.create(null),i=[];for(var a in e)a in t?i.length&&(s[a]=i,i=[]):i.push(a);var o={};for(var c in t){if(s[c])for(r=0;r<s[c].length;r++){var l=s[c][r];o[s[c][r]]=n(l)}o[c]=n(c)}for(r=0;r<i.length;r++)o[i[r]]=n(i[r]);return o}(t,r);return Object.keys(s).forEach((function(i){var a=s[i];if((0,c.isValidElement)(a)){var o=i in t,l=i in r,u=t[i],d=(0,c.isValidElement)(u)&&!u.props.in;!l||o&&!d?l||!o||d?l&&o&&(0,c.isValidElement)(u)&&(s[i]=(0,c.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:U(a,"exit",e),enter:U(a,"enter",e)})):s[i]=(0,c.cloneElement)(a,{in:!1}):s[i]=(0,c.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:U(a,"exit",e),enter:U(a,"enter",e)})}})),s}var $=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},B=function(e){function t(t,n){var r,s=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}_(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,s=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,V(n.children,(function(e){return(0,c.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:U(e,"appear",n),enter:U(e,"enter",n),exit:U(e,"exit",n)})}))):W(e,s,i),firstRender:!1}},n.handleExited=function(e,t){var n=V(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=j({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=g(e,["component","childFactory"]),s=this.state.contextValue,i=$(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?c.createElement(S.Provider,{value:s},i):c.createElement(S.Provider,{value:s},c.createElement(t,r,i))},t}(c.Component);B.propTypes={},B.defaultProps={component:"div",childFactory:function(e){return e}};var G=B,X=function(e){var t=(0,c.useState)([]),n=(0,r.Z)(t,2),s=n[0],i=n[1],a=(0,c.useState)(!1),o=(0,r.Z)(a,2),d=o[0],p=o[1],h=(0,c.useState)(200),f=(0,r.Z)(h,2),x=f[0],v=f[1],j=(0,c.useState)(!1),g=(0,r.Z)(j,2),N=g[0],_=g[1],C=(0,m.Z)(),y=C.getAllCharacters,k=C.process,S=C.setProcess;(0,c.useEffect)((function(){Z(x,!0)}),[]);var O=function(e){var t=!1;e.length<9&&(t=!0),i((function(t){return[].concat((0,E.Z)(t),(0,E.Z)(e))})),p(!1),v((function(e){return e+9})),_(t)},Z=function(e,t){p(!t),y(e).then(O).then((function(){return S("confirmed")}))},R=(0,c.useRef)([]),T=function(e){R.current.forEach((function(e){return e.classList.remove("char__item_selected")})),R.current[e].classList.add("char__item_selected"),R.current[e].focus()},M=(0,c.useMemo)((function(){return function(e,t,n){switch(e){case"waiting":return(0,u.jsx)(b.Z,{});case"loading":return n?(0,u.jsx)(t,{}):(0,u.jsx)(b.Z,{});case"confirmed":return(0,u.jsx)(t,{});case"error":return(0,u.jsx)(l.Z,{});default:throw new Error("Unexpected process state")}}(k,(function(){return function(t){var n=t.map((function(t,n){var r={objectFit:"cover"};"https://assets.entrepreneur.com/content/3x2/2000/20160701113917-Marvel.jpeg"===t.thumbnail&&(r={objectFit:"unset"});var s=t.name.length>30?"".concat(t.name.slice(0,29),"..."):t.name;return(0,u.jsx)(I,{timeout:500,classNames:"char__item",children:(0,u.jsxs)("li",{className:"char__item",tabIndex:0,ref:function(e){return R.current[n]=e},onClick:function(){e.onCharSelected(t.id),T(n)},onKeyPress:function(r){" "!==r.key&&"Enter"!==r.key||(e.onCharSelected(t.id),T(n))},children:[(0,u.jsx)("img",{src:t.thumbnail,alt:t.name,style:r}),(0,u.jsx)("div",{className:"char__name",children:s})]},t.id)},t.id)}));return(0,u.jsx)("ul",{className:"char__grid",children:(0,u.jsx)(G,{component:null,children:n})})}(s)}),d)}),[k]);return(0,u.jsxs)("div",{className:"char__list",children:[M,(0,u.jsx)("button",{className:"button button__main button__long",disabled:d,style:{display:N?"none":"block"},onClick:function(){return Z(x)},children:(0,u.jsx)("div",{className:"inner",children:"load more"})})]})},q=function(e){var t=e.data,n=t.name,r=t.description,s=t.thumbnail,i=t.homepage,a=t.wiki,o=t.comicsList,c={objectFit:"cover"};return"https://assets.entrepreneur.com/content/3x2/2000/20160701113917-Marvel.jpeg"===s&&(c={objectFit:"contain"}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"char__basics",children:[(0,u.jsx)("img",{src:s,alt:n,style:c}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"char__info-name",children:n}),(0,u.jsxs)("div",{className:"char__btns",children:[(0,u.jsx)("a",{href:i,className:"button button__main",children:(0,u.jsx)("div",{className:"inner",children:"homepage"})}),(0,u.jsx)("a",{href:a,className:"button button__secondary",children:(0,u.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,u.jsx)("div",{className:"char__descr",children:r}),(0,u.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,u.jsxs)("ul",{className:"char__comics-list",children:[o.length>0?null:"There are no comics for this character",o.map((function(e,t){if(!(t>9))return(0,u.jsx)("li",{className:"char__comics-item",children:e.name},t+e.id)}))]})]})},K=function(e){var t=(0,c.useState)(null),n=(0,r.Z)(t,2),s=n[0],i=n[1],a=(0,m.Z)(),o=a.getCharactersById,l=a.clearError,d=a.process,p=a.setProcess;(0,c.useEffect)((function(){x()}),[e.charId]);var h=function(e){i(e)},x=function(){var t=e.charId;t&&(l(),o(t).then(h).then((function(){return p("confirmed")})))};return(0,u.jsx)("div",{className:"char__info",children:(0,f.Z)(d,q,s)})},z=n.p+"static/media/vision.067d4ae1936d64a577ce.png",H=n(1460),J=n(4270),Q=function(){var e=(0,c.useState)(null),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(J.q,{children:[(0,u.jsx)("meta",{name:"description",content:"Marvel information portal"}),(0,u.jsx)("title",{children:"Marvel information"})]}),(0,u.jsx)(p,{children:(0,u.jsx)(v,{})}),(0,u.jsxs)("div",{className:"char__content",children:[(0,u.jsx)(p,{children:(0,u.jsx)(X,{onCharSelected:function(e){s(e)}})}),(0,u.jsxs)("div",{children:[(0,u.jsx)(p,{children:(0,u.jsx)(K,{charId:n})}),(0,u.jsx)(p,{children:(0,u.jsx)(H.Z,{})})]})]}),(0,u.jsx)("img",{className:"bg-decoration",src:z,alt:"vision"})]})}}}]);
//# sourceMappingURL=130.39420e68.chunk.js.map