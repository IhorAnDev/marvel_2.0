"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[998],{368:function(e,c,n){n.r(c),n.d(c,{default:function(){return g}});var s=n(3957),i=n(2982),t=n(885),r=(n.p,n.p,n(2791)),a=n(4482),l=n(9613),o=n(8602),m=n(3504),u=n(184),d=function(e,c,n){switch(e){case"waiting":return(0,u.jsx)(o.Z,{});case"loading":return n?(0,u.jsx)(c,{}):(0,u.jsx)(o.Z,{});case"confirmed":return(0,u.jsx)(c,{});case"error":return(0,u.jsx)(l.Z,{});default:throw new Error("Unexpected process state")}},x=function(){var e=(0,r.useState)([]),c=(0,t.Z)(e,2),n=c[0],s=c[1],l=(0,r.useState)(!1),o=(0,t.Z)(l,2),x=o[0],h=o[1],j=(0,r.useState)(200),_=(0,t.Z)(j,2),f=_[0],g=_[1],p=(0,r.useState)(!1),N=(0,t.Z)(p,2),v=N[0],Z=N[1],b=(0,a.Z)(),k=b.getAllComics,w=b.process,A=b.setProcess;(0,r.useEffect)((function(){y(f,!0)}),[]);var C=function(e){var c=!1;e.length<8&&(c=!0),s((function(c){return[].concat((0,i.Z)(c),(0,i.Z)(e))})),h(!1),g((function(e){return e+8})),Z(c)},y=function(e,c){h(!c),k(e).then(C).then((function(){return A("confirmed")}))};return(0,u.jsxs)("div",{className:"comics__list",children:[d(w,(function(){return function(e){var c=e.map((function(e,c){e.thumbnail;var n=e.title.length>30?"".concat(e.title.slice(0,29),"..."):e.title,s=0===e.price?"NOT AVAILABLE":"".concat(e.price,"$");return(0,u.jsx)("li",{className:"comics__item",tabIndex:0,children:(0,u.jsxs)(m.rU,{to:"/comics/".concat(e.id),children:[(0,u.jsx)("img",{src:e.thumbnail,alt:e.title,className:"comics__item-img"}),(0,u.jsx)("div",{className:"comics__item-name",children:n}),(0,u.jsx)("div",{className:"comics__item-price",children:s})]})},c)}));return(0,u.jsx)("ul",{className:"comics__grid",children:c})}(n)}),x),(0,u.jsx)("button",{className:"button button__main button__long",disabled:x,style:{display:v?"none":"block"},onClick:function(){return y(f)},children:(0,u.jsx)("div",{className:"inner",children:"load more"})})]})},h=n(6871),j=function(e){var c=e.comic,n=c.title,s=c.description,i=c.thumbnail,t=c.pageCount,r=c.price;return(0,u.jsxs)("div",{className:"single-comic",children:[(0,u.jsx)("img",{src:i,alt:n,className:"single-comic__img"}),(0,u.jsxs)("div",{className:"single-comic__info",children:[(0,u.jsx)("h2",{className:"single-comic__name",children:n}),(0,u.jsx)("p",{className:"single-comic__descr",children:s}),(0,u.jsx)("p",{className:"single-comic__descr",children:t}),(0,u.jsx)("p",{className:"single-comic__descr",children:"Language: en-us"}),(0,u.jsxs)("div",{className:"single-comic__price",children:[r,"$"]})]}),(0,u.jsx)(m.rU,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})},_=function(){var e=(0,h.UO)().comicId,c=(0,r.useState)(null),n=(0,t.Z)(c,2),s=n[0],i=n[1],m=(0,a.Z)(),d=m.loading,x=m.error,_=m.getComicById,f=m.clearError;(0,r.useEffect)((function(){g()}),[e]);var g=function(){f(),_(e).then(p)},p=function(e){i(e)},N=x?(0,u.jsx)(l.Z,{}):null,v=d?(0,u.jsx)(o.Z,{}):null,Z=d||x||!s?null:(0,u.jsx)(j,{comic:s});return(0,u.jsxs)(u.Fragment,{children:[N,v,Z]})},f=n(4270),g=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(f.q,{children:[(0,u.jsx)("meta",{name:"description",content:"Page with comics"}),(0,u.jsx)("title",{children:"Comics page"})]}),(0,u.jsx)(s.Z,{}),(0,u.jsx)(h.Z5,{children:(0,u.jsxs)(h.AW,{children:[(0,u.jsx)(h.AW,{path:"/:comicId",element:(0,u.jsx)(_,{})}),(0,u.jsx)(h.AW,{path:"/",element:(0,u.jsx)(x,{})})]})})]})}}}]);
//# sourceMappingURL=998.1ff85f81.chunk.js.map